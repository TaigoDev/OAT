@page "{id?}"
@using OAT.Controllers.MNews.Readers

@model OAT.Pages.projectsAndEvents.demoExam.NewsModel
@{
	
}
<link rel="stylesheet" href="~/css/news.css">

<article class="centered">
	@if (!string.IsNullOrWhiteSpace(Model.id) && int.TryParse(Model.id, null, out var id) &&
        DemoExamsNewsReader.news.Any(e => e.id == id))
	{
        var news = DemoExamsNewsReader.news.First(e => e.id == id);
		<h3 class="news-title">
			@news.title
		</h3>
		@foreach (var t in news.description.Split("\n"))
		{
			<p>@Html.Raw(@t)</p>
		}
		<div class="images-list-slider-container">
			<div class="images-list-slider">
				@foreach (var image in news.photos.toObject<List<string>>())
				{
					@if (!image.Contains(".mp4"))
					{
						<img src="/@image" alt="">
					}
					else
					{
						<video class="customized" controls>
							<source src="/@image" type="video/mp4">
						</video>
					}
				}
			</div>
		</div>

	}
	else
	{
		<h3 class="news-title">
			Искали и не нашли
		</h3>
	}
</article>